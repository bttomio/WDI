left_join(Data_countries, "iso2c") %>%
filter(region != "Aggregates") %>% # remove aggregates (groups of countries)
ggplot() +
geom_point(
aes(
x = gdp_capita,
y = life_exp,
size = pop,
color = region
)
) +
scale_x_continuous(
labels = scales::dollar_format(),
breaks = scales::log_breaks(n = 10)
) +
coord_trans(x = 'log10') +
scale_size_continuous(
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)
) +
theme_minimal() +
labs(
title = "An Example of Hans Rosling's Gapminder using WDI",
x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank"
) +
geom_label_repel(data = subset(hrg, pop > 100000000 & life_exp > 80),
aes(x = gdp_capita, y = life_exp, label = country.y),
box.padding   = 0.35,
point.padding = 0.5,
segment.color = 'grey50')
hrg %>%
left_join(Data_countries, "iso2c") %>%
filter(region != "Aggregates") %>% # remove aggregates (groups of countries)
ggplot() +
geom_point(
aes(
x = gdp_capita,
y = life_exp,
size = pop,
color = region,
label = country.x
)
) +
scale_x_continuous(
labels = scales::dollar_format(),
breaks = scales::log_breaks(n = 10)
) +
coord_trans(x = 'log10') +
scale_size_continuous(
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)
) +
theme_minimal() +
labs(
title = "An Example of Hans Rosling's Gapminder using WDI",
x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank"
) +
geom_label_repel(data = subset(hrg, pop > 100000000 & life_exp > 80),
aes(x = gdp_capita, y = life_exp),
box.padding   = 0.35,
point.padding = 0.5,
segment.color = 'grey50')
hrg %>%
left_join(Data_countries, "iso2c") %>%
filter(region != "Aggregates") %>% # remove aggregates (groups of countries)
ggplot() +
geom_point(
aes(
x = gdp_capita,
y = life_exp,
size = pop,
color = region
)
) +
scale_x_continuous(
labels = scales::dollar_format(),
breaks = scales::log_breaks(n = 10)
) +
coord_trans(x = 'log10') +
scale_size_continuous(
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)
) +
theme_minimal() +
labs(
title = "An Example of Hans Rosling's Gapminder using WDI",
x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank"
) +
geom_text_repel(data = subset(hrg, pop > 100000000 & life_exp > 80),
aes(x = gdp_capita, y = life_exp, label = country.x),
box.padding   = 0.35,
point.padding = 0.5,
segment.color = 'grey50')
View(hrg)
hrg %>%
left_join(Data_countries, "iso2c") %>%
filter(region != "Aggregates") %>% # remove aggregates (groups of countries)
ggplot() +
geom_point(
aes(
x = gdp_capita,
y = life_exp,
size = pop,
color = region
)
) +
scale_x_continuous(
labels = scales::dollar_format(),
breaks = scales::log_breaks(n = 10)
) +
coord_trans(x = 'log10') +
scale_size_continuous(
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)
) +
theme_minimal() +
labs(
title = "An Example of Hans Rosling's Gapminder using WDI",
x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank"
) +
geom_text_repel(data = subset(pop > 100000000 & life_exp > 80),
aes(x = gdp_capita, y = life_exp, label = country.x),
box.padding   = 0.35,
point.padding = 0.5,
segment.color = 'grey50')
ggplot(hrg2) +
geom_point(
aes(
x = gdp_capita,
y = life_exp,
size = pop,
color = region
)
) +
scale_x_continuous(
labels = scales::dollar_format(),
breaks = scales::log_breaks(n = 10)
) +
coord_trans(x = 'log10') +
scale_size_continuous(
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)
) +
theme_minimal() +
labs(
title = "An Example of Hans Rosling's Gapminder using WDI",
x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank"
) +
geom_text_repel(data = subset(hrg2, pop > 100000000 & life_exp > 80),
aes(x = gdp_capita, y = life_exp, label = country.x),
box.padding   = 0.35,
point.padding = 0.5,
segment.color = 'grey50')
hrg2 <- hrg %>%
left_join(Data_countries, "iso2c") %>%
filter(region != "Aggregates") # remove aggregates (groups of countries)
ggplot(hrg2) +
geom_point(
aes(
x = gdp_capita,
y = life_exp,
size = pop,
color = region
)
) +
scale_x_continuous(
labels = scales::dollar_format(),
breaks = scales::log_breaks(n = 10)
) +
coord_trans(x = 'log10') +
scale_size_continuous(
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)
) +
theme_minimal() +
labs(
title = "An Example of Hans Rosling's Gapminder using WDI",
x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank"
) +
geom_text_repel(data = subset(hrg2, pop > 100000000 & life_exp > 80),
aes(x = gdp_capita, y = life_exp, label = country.x),
box.padding   = 0.35,
point.padding = 0.5,
segment.color = 'grey50')
ggplot(hrg2) +
geom_point(
aes(
x = gdp_capita,
y = life_exp,
size = pop,
color = region
)
) +
scale_x_continuous(
labels = scales::dollar_format(),
breaks = scales::log_breaks(n = 10)
) +
coord_trans(x = 'log10') +
scale_size_continuous(
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)
) +
theme_minimal() +
labs(
title = "An Example of Hans Rosling's Gapminder using WDI",
x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank"
) +
geom_text_repel(data = subset(hrg2, pop > 100000000),
aes(x = gdp_capita, y = life_exp, label = country.x),
box.padding   = 0.35,
point.padding = 0.5,
segment.color = 'grey50')
ggplot(hrg2) +
geom_point(
aes(
x = gdp_capita,
y = life_exp,
size = pop,
color = region
)
) +
scale_x_continuous(
labels = scales::dollar_format(),
breaks = scales::log_breaks(n = 10)
) +
coord_trans(x = 'log10') +
scale_size_continuous(
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)
) +
theme_minimal() +
labs(
title = "An Example of Hans Rosling's Gapminder using WDI",
x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank"
) +
geom_text_repel(data = subset(hrg2, life_exp > 75 & life_exp > 55),
aes(x = gdp_capita, y = life_exp, label = country.x),
box.padding   = 0.35,
point.padding = 0.5,
segment.color = 'grey50')
ggplot(hrg2) +
geom_point(
aes(
x = gdp_capita,
y = life_exp,
size = pop,
color = region
)
) +
scale_x_continuous(
labels = scales::dollar_format(),
breaks = scales::log_breaks(n = 10)
) +
coord_trans(x = 'log10') +
scale_size_continuous(
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)
) +
theme_minimal() +
labs(
title = "An Example of Hans Rosling's Gapminder using WDI",
x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank"
) +
geom_text_repel(data = subset(hrg2, life_exp > 75 & life_exp < 55),
aes(x = gdp_capita, y = life_exp, label = country.x),
box.padding   = 0.35,
point.padding = 0.5,
segment.color = 'grey50')
ggplot(hrg2) +
geom_point(
aes(
x = gdp_capita,
y = life_exp,
size = pop,
color = region
)
) +
scale_x_continuous(
labels = scales::dollar_format(),
breaks = scales::log_breaks(n = 10)
) +
coord_trans(x = 'log10') +
scale_size_continuous(
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)
) +
theme_minimal() +
labs(
title = "An Example of Hans Rosling's Gapminder using WDI",
x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank"
) +
geom_text_repel(data = subset(hrg2, life_exp > 75 || life_exp < 55),
aes(x = gdp_capita, y = life_exp, label = country.x),
box.padding   = 0.35,
point.padding = 0.5,
segment.color = 'grey50')
ggplot(hrg2) +
geom_point(
aes(
x = gdp_capita,
y = life_exp,
size = pop,
color = region
)
) +
scale_x_continuous(
labels = scales::dollar_format(),
breaks = scales::log_breaks(n = 10)
) +
coord_trans(x = 'log10') +
scale_size_continuous(
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)
) +
theme_minimal() +
labs(
title = "An Example of Hans Rosling's Gapminder using WDI",
x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank"
) +
geom_text_repel(data = subset(hrg2, life_exp > 75 | life_exp < 55),
aes(x = gdp_capita, y = life_exp, label = country.x),
box.padding   = 0.35,
point.padding = 0.5,
segment.color = 'grey50')
ggplot(hrg2) +
geom_point(
aes(
x = gdp_capita,
y = life_exp,
size = pop,
color = region
)
) +
scale_x_continuous(
labels = scales::dollar_format(),
breaks = scales::log_breaks(n = 10)
) +
coord_trans(x = 'log10') +
scale_size_continuous(
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)
) +
theme_minimal() +
labs(
title = "An Example of Hans Rosling's Gapminder using WDI",
x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank"
) +
geom_text_repel(data = subset(hrg2, life_exp > 85 | life_exp < 55),
aes(x = gdp_capita, y = life_exp, label = country.x),
box.padding   = 0.35,
point.padding = 0.5,
segment.color = 'grey50')
ggplot(hrg2) +
geom_point(
aes(
x = gdp_capita,
y = life_exp,
size = pop,
color = region
)
) +
scale_x_continuous(
labels = scales::dollar_format(),
breaks = scales::log_breaks(n = 10)
) +
coord_trans(x = 'log10') +
scale_size_continuous(
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)
) +
theme_minimal() +
labs(
title = "An Example of Hans Rosling's Gapminder using WDI",
x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank"
) +
geom_text_repel(data = subset(hrg2, life_exp > 80 | life_exp < 55),
aes(x = gdp_capita, y = life_exp, label = country.x),
box.padding   = 0.35,
point.padding = 0.5,
segment.color = 'grey50')
options(htmltools.dir.version = FALSE)
library(WDI)
library(dplyr)
library(rnaturalearth)
library(tidyverse)
library(ggplot2)
library(ggthemes)
library(ggrepel)
hrg2 <- hrg %>%
left_join(Data_countries, "iso2c") %>%
filter(region != "Aggregates") # remove aggregates (groups of countries)
ggplot(hrg2) +
geom_point(
aes(x = gdp_capita, y = life_exp, size = pop, color = region)) +
scale_x_continuous(
labels = scales::dollar_format(),
breaks = scales::log_breaks(n = 10)) +
coord_trans(x = 'log10') +
scale_size_continuous(
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)) +
theme_minimal() +
labs(x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank")
View(hrg2)
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)) +
theme_minimal() +
labs(x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank") +
geom_label_repel(data = subset(hrg2, pop > 90000000), # 90 millions
aes(x = gdp_capita, y = life_exp, label = country.x),
box.padding   = 0.9,
point.padding = 0.9,
segment.color = 'grey50')
ggplot(hrg2) +
geom_point(
aes(x = gdp_capita, y = life_exp, size = pop, color = region)) +
scale_x_continuous(
labels = scales::dollar_format(),
breaks = scales::log_breaks(n = 10)) +
coord_trans(x = 'log10') +
scale_size_continuous(
labels = scales::number_format(scale = 1/1e6, suffix = "m"),
breaks = seq(1e8,1e9, 2e8),
range = c(1,20)) +
theme_minimal() +
labs(x = "GDP per capita (log scale)",
y = "Life expectancy at birth",
size = "Population",
color = NULL,
caption = "Source: World Bank") +
geom_label_repel(data = subset(hrg2, pop > 90000000), # 90 millions
aes(x = gdp_capita, y = life_exp, label = country.x),
box.padding   = 0.9,
point.padding = 0.9,
segment.color = 'grey50')
View(hrg2)
source('~/GitHub/WDI/Card image - Twitter.R', echo=TRUE)
