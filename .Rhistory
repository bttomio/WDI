View(Data_series)
View(Data_series)
View(Data_series)
View(Data_series)
View(Data_series)
View(GDP_search)
options(htmltools.dir.version = FALSE)
library(WDI)
library(dplyr)
dat2 <- WDI(indicators, country=c('FR', 'BR'), end = 2019)
# indicators = NY.GDP.PCAP.KD and NY.GDP.PCAP.KN / names = GDP per capita (constant 2010 US$) and GDP per capita (constant LCU)
indicators <- c("GDP per capita (US$)" = 'NY.GDP.PCAP.KD', "GDP per capita (LCU)" = "NY.GDP.PCAP.KN")
dat2 <- WDI(indicators, country=c('FR', 'BR'), end = 2019)
View(dat2)
# GDP per capita (US$ and local currency unity) for Brazil
ggplot(dat2, aes(year, color=country)) + geom_line(aes(`GDP per capita (LCU)`)) +
xlab('Year') + ylab('GDP per capita (LCU)')
library(ggplot2)
# GDP per capita (US$ and local currency unity) for Brazil
ggplot(dat2, aes(year, color=country)) + geom_line(aes(`GDP per capita (LCU)`)) +
xlab('Year') + ylab('GDP per capita (LCU)')
# GDP per capita (US$ and local currency unity) for Brazil
ggplot(dat2, aes(year, color=country)) + geom_line(aes(year, `GDP per capita (LCU)`)) +
xlab('Year') + ylab('GDP per capita (LCU)')
View(Data_series)
View(Data_info)
View(Data_countries)
View(Data_series)
Data_series$description
install.packages("formatR")
remotes::install_github("rlesur/klippy")
install.packages("xaringanExtra")
devtools::install_github("gadenbuie/xaringanExtra")
install.packages("metathis")
source('~/GitHub/WDI/Card image - Twitter.R', echo=TRUE)
# https://www.garrickadenbuie.com/blog/sharing-xaringan-slides/#get-your-slides-online
#' Screenshot Your Title Slide for Share Image
#'
#' Takes a screenshot of your title slide for sharing on Twitter
#' (and other social media sites).
#'
#' @param slides_rmd Your slides file
#' @param path Path to new share image
screenshot_share_image <- function(
slides_rmd,
path_image = "share-card.png"
) {
if (!requireNamespace("webshot2", quietly = TRUE)) {
stop(
"`webshot2` is required: ",
'remotes::install_github("rstudio/webshot2")'
)
}
webshot2::rmdshot(
doc = slides_rmd,
file = path_image,
vheight = 600,
vwidth = 600 * 191 / 100,
rmd_args = list(
output_options = list(
nature = list(ratio = "191:100"),
self_contained = TRUE
)
)
)
path_image
}
screenshot_share_image("Slides.Rmd")
remotes::install_github("rstudio/webshot2")
screenshot_share_image("Slides.Rmd")
install.packages("ggthemes")
source('~/GitHub/WDI/Hands-on.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
install.packages("googleVis")
source('~/.active-rstudio-document', echo=TRUE)
plot(gg)
cat(gg$html$chart, file="chart1.html")
library(rnaturalearth)
install.packages("rnaturalearth")
library(rnaturalearth)
testing <-ne_countries(returnclass = "sf")
install.packages("rgeos")
library(tidyverse)
testing <- ne_countries(returnclass = "sf")
View(testing)
# indicator = NY.GDP.PCAP.KD / name = GDP per capita (constant 2010 US$)
indicator <- c("Self-employed" = 'SL.EMP.SELF.ZS')
dat1 <- WDI(indicator, country="all", end = 2019)
View(dat1)
View(testing)
datW <- WDI(indicator, country="all", end = 2019)
Data_countries <- as.data.frame(Data_info$country)
View(Data_countries)
ne_countries(returnclass = "sf") %>%
left_join(datW)
View(datW)
View(testing)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c"))
datW <- WDI(indicator, country="all", start = 2019, end = 2019)
Data_countries <- as.data.frame(Data_info$country)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c"))
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA") %>% # remove Antarctica
ggplot(aes(fill = self_employed)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = indicator_info$indicator,
fill = NULL,
caption = paste("Source:", indicator_info$source_org)
)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA") %>% # remove Antarctica
ggplot(aes(fill = self_employed)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = "o",
fill = NULL,
caption = paste("Source:", indicator_info$source_org)
)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA") %>% # remove Antarctica
ggplot(aes(fill = self_employed)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = "o",
fill = NULL,
caption = paste("Source:", "o")
)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA") %>% # remove Antarctica
ggplot(aes(fill = `Self-employed`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = "o",
fill = NULL,
caption = paste("Source:", "o")
)
info_self_employed <- as.data.frame(Data_info$series) %>%
filter(indicator == "SL.EMP.SELF.ZS")
View(info_self_employed)
info_self_employed <- as.data.frame(Data_info$series) %>%
filter(indicator == "SL.EMP.SELF.ZS") %>%
select(name)
info_self_employed
name_self_employed <- as.data.frame(Data_info$series) %>%
filter(indicator == "SL.EMP.SELF.ZS") %>%
select(name)
name_self_employed <- as.data.frame(Data_info$series) %>%
filter(indicator == "SL.EMP.SELF.ZS")
View(name_self_employed)
name_self_employed
source('~/GitHub/WDI/World map.R', echo=TRUE)
datW <- WDI(indicator, country="all")
View(datW)
All_classification <- as.data.frame(Data_info$country) %>%
unique(country)
All_classification <- as.data.frame(Data_info$country)
All_classification
Data_countries <- as.data.frame(Data_info$country) %>%
kable("html")
Data_countries <- as.data.frame(Data_info$country) %>%
kable("html")
Data_countries %>%
kable("html")
View(dat1)
View(GDP_search)
# Public Expenditure on Health (% GDP) in 2019
indicator <- c("PEH" = 'SH.XPD.HLTH.ZS')
datW <- WDI(indicator, country="all", start = 2019, end = 2019)
datW <- WDI(indicator, country="all", start = 2019, end = 2019)
Data_info <- WDI_data
name_PEH <- as.data.frame(Data_info$series) %>%
filter(indicator == "SH.XPD.HLTH.ZS") %>%
select(name)
source_PEH <- as.data.frame(Data_info$series) %>%
filter(indicator == "SH.XPD.HLTH.ZS") %>%
select(sourceOrganization)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA") %>% # remove Antarctica
ggplot(aes(fill = `PEH`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_PEH,
fill = NULL,
caption = paste("Source:", source_PEH)
)
# Public Expenditure on Health (% GDP) in 2019
indicator <- c("PEH" = 'SH.XPD.HLTH.ZS')
datW <- WDI(indicator, country="all", start = 2019, end = 2019)
# Public Expenditure on Health (% GDP) in 2018
indicator <- c("PEH" = 'SH.XPD.HLTH.ZS')
datW <- WDI(indicator, country="all", start = 2018, end = 2018) #<<
Data_series <- as.data.frame(Data_info$series) %>%
filter(indicator == "SH.XPD.HLTH.ZS")
View(Data_series)
datW <- WDI(indicator, country="all")
# Search for "unemployment"
WDIsearch('unemployment')
# Save results for "GDP"
UNEMP_search <- WDIsearch('unemployment')
View(UNEMP_search)
datW <- WDI(indicator, country="all")
indicator <- c("Unemployment" = 'UNEMPSA_')
datW <- WDI(indicator, country="all")
View(datW)
View(UNEMP_search)
View(datW)
datW <- WDI(indicator, country="all",start = '2012M01', end = '2012M05')
View(datW)
datW <- WDI(indicator, country="all",start = '2020M02', end = '2020M02')
View(datW)
View(datW)
# Search for "life"
WDIsearch('life')
# Save results for "life"
UNEMP_search <- WDIsearch('life')
# Save results for "life"
life_search <- WDIsearch('life')
View(life_search)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA") %>% # remove Antarctica
ggplot(aes(fill = `Life expectancy at birth, female (years)`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::number_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_life,
fill = NULL,
caption = paste("Source:", source_life)
)
# Life expectancy at birth, female (years) in 2018
indicator <- c("Life expectancy at birth, female (years)" = 'SP.DYN.LE00.FE.IN')
datW <- WDI(indicator, country="all",start = '2018', end = '2018')
datW <- WDI(indicator, country="all",start = '2018', end = '2018')
Data_info <- WDI_data
name_life <- as.data.frame(Data_info$series) %>%
filter(indicator == "SP.DYN.LE00.FE.IN") %>%
select(name)
source_life <- as.data.frame(Data_info$series) %>%
filter(indicator == "SP.DYN.LE00.FE.IN") %>%
select(sourceOrganization)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA") %>% # remove Antarctica
ggplot(aes(fill = `Life expectancy at birth, female (years)`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::number_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_life,
fill = NULL,
caption = paste("Source:", source_life)
)
# Unemployment rate,Percent,,, in February 2020
indicator <- c("UNEMP" = 'UNEMPSA_')
datW <- WDI(indicator, country="all", start = 2018, end = 2018)
datW <- WDI(indicator, country="all", start = 2018, end = 2018)
Data_info <- WDI_data
name_UNEMP <- as.data.frame(Data_info$series) %>%
filter(indicator == "UNEMPSA_") %>%
select(name)
source_UNEMP <- as.data.frame(Data_info$series) %>%
filter(indicator == "UNEMPSA_") %>%
select(sourceOrganization)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA") %>% # remove Antarctica
ggplot(aes(fill = `UNEMP`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_UNEMP,
fill = NULL,
caption = paste("Source:", source_UNEMP)
)
# Unemployment rate,Percent,,, in February 2020
indicator <- c("Unemployment" = 'UNEMPSA_') #<<
datW <- WDI(indicator, country="all",start = '2020M02', end = '2020M02') #<<
datW <- WDI(indicator, country="all",start = '2020M02', end = '2020M02') #<<
Data_info <- WDI_data
Data_info <- WDI_data
name_UNEMP <- as.data.frame(Data_info$series) %>%
filter(indicator == "UNEMPSA_") %>%
select(name)
source_UNEMP <- as.data.frame(Data_info$series) %>%
filter(indicator == "UNEMPSA_") %>%
select(sourceOrganization)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA") %>% # remove Antarctica
ggplot(aes(fill = `UNEMP`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_UNEMP,
fill = NULL,
caption = paste("Source:", source_UNEMP)
)
# Unemployment rate,Percent,,, in February 2020
indicator <- c("Unemployment" = 'UNEMPSA_')
datW <- WDI(indicator, country="all",start = '2020M02', end = '2020M02') #<<
name_UNEMP <- as.data.frame(Data_info$series) %>%
filter(indicator == "UNEMPSA_") %>%
select(name)
source_UNEMP <- as.data.frame(Data_info$series) %>%
filter(indicator == "UNEMPSA_") %>%
select(sourceOrganization)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA") %>% # remove Antarctica
ggplot(aes(fill = `Unemployment`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_UNEMP,
fill = NULL,
caption = paste("Source:", source_UNEMP)
)
View(datW)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA",
Unemployment != NA) %>% # remove Antarctica
ggplot(aes(fill = `Unemployment`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_UNEMP,
fill = NULL,
caption = paste("Source:", source_UNEMP)
)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA",
Unemployment != "NA") %>% # remove Antarctica
ggplot(aes(fill = `Unemployment`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_UNEMP,
fill = NULL,
caption = paste("Source:", source_UNEMP)
)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA",
!is.na(Unemployment)) %>% # remove Antarctica
ggplot(aes(fill = `Unemployment`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_UNEMP,
fill = NULL,
caption = paste("Source:", source_UNEMP)
)
# Unemployment rate,Percent,,, in February 2020
indicator <- c("Unemployment" = 'UNEMPSA_')
datW <- WDI(indicator, country="all",start = '2020M02', end = '2020M02') #<<
datW <- WDI(indicator, country="all",start = '2020M02', end = '2020M02') #<<
Data_info <- WDI_data
name_UNEMP <- as.data.frame(Data_info$series) %>%
filter(indicator == "UNEMPSA_") %>%
select(name)
source_UNEMP <- as.data.frame(Data_info$series) %>%
filter(indicator == "UNEMPSA_") %>%
select(sourceOrganization)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA",
!is.na(Unemployment)) %>% # remove Antarctica
ggplot(aes(fill = `Unemployment`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_UNEMP,
fill = NULL,
caption = paste("Source:", source_UNEMP)
)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA",
na.exclude) %>% # remove Antarctica
ggplot(aes(fill = `Unemployment`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_UNEMP,
fill = NULL,
caption = paste("Source:", source_UNEMP)
)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA") %>% # remove Antarctica
na.exclude() %>%
ggplot(aes(fill = `Unemployment`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_UNEMP,
fill = NULL,
caption = paste("Source:", source_UNEMP)
)
# Unemployment rate,Percent,,, in February 2020
indicator <- c("Unemployment" = 'UNEMPSA_')
datW <- WDI(indicator, country="all",start = '2020M02', end = '2020M02') #<<
View(datW)
View(datW)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
filter(iso_a2 != "ATA") %>% # remove Antarctica
ggplot(aes(fill = `Unemployment`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_UNEMP,
fill = NULL,
caption = paste("Source:", source_UNEMP)
)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
exclude.na %>% # remove Antarctica
ggplot(aes(fill = `Unemployment`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_UNEMP,
fill = NULL,
caption = paste("Source:", source_UNEMP)
)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
exclude.na() %>% # remove Antarctica
ggplot(aes(fill = `Unemployment`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_UNEMP,
fill = NULL,
caption = paste("Source:", source_UNEMP)
)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c")) %>%
drop_na() %>% # remove Antarctica
ggplot(aes(fill = `Unemployment`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_UNEMP,
fill = NULL,
caption = paste("Source:", source_UNEMP)
)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c"))
testing <- ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a2" = "iso2c"))
View(testing)
View(datW)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a3" = "iso2c")) %>%
drop_na() %>% # remove Antarctica
ggplot(aes(fill = `Unemployment`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_UNEMP,
fill = NULL,
caption = paste("Source:", source_UNEMP)
)
ne_countries(returnclass = "sf") %>%
left_join(datW, c("iso_a3" = "iso2c")) %>%
filter(iso_a2 != "ATA") %>% # remove Antarctica
ggplot(aes(fill = `Unemployment`)) +
geom_sf() +
scale_fill_viridis_c(labels = scales::percent_format(scale = 1)) +
theme(legend.position="bottom") +
labs(
title = name_UNEMP,
fill = NULL,
caption = paste("Source:", source_UNEMP)
)
